services:
  zomboid-server:
    container_name: zomboid-server
    build:
      context: ./zomboid-server
      dockerfile: Dockerfile
    volumes:
      - ${LOCAL_WORKSPACE_FOLDER:-.}/data:/root/Zomboid
      - ${LOCAL_WORKSPACE_FOLDER:-.}/workshop:/root/.local/share/Steam/steamapps/workshop
      - ${LOCAL_WORKSPACE_FOLDER:-.}/zomboid-server/scripts:/scripts
    ports:
      - 16261:16261/udp
      - 16262:16262/udp
      - 27015:27015 # For RCON outside the container
    environment:
      - PVP=false
      - ZOMBIES=5
      - DAY_LENGTH=5
      - SERVER_NAME=meshi-test
